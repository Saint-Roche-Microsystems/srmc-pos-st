<div class="flex-1 p-4 md:p-10 bg-slate-50/50 overflow-y-auto">
    <div class="max-w-7xl mx-auto">
        <div class="flex flex-col md:flex-row md:items-end justify-between mb-10 gap-4">
            <div>
                <h1 class="text-4xl font-black text-slate-900 tracking-tight">Stock Inventory</h1>
                <p class="text-slate-500 text-lg">Detailed view of your product catalog and availability.</p>
            </div>
            <div class="flex gap-3">
                <p-button label="Export CSV" icon="pi pi-download" [text]="true" severity="secondary"
                    styleClass="rounded-xl" />
                <p-button label="New Product" icon="pi pi-plus" severity="primary"
                    styleClass="rounded-xl px-6 shadow-lg shadow-blue-500/20" />
            </div>
        </div>

        <div
            class="bg-white rounded-[2.5rem] shadow-[0_20px_50px_-12px_rgba(0,0,0,0.05)] border border-slate-100 overflow-hidden">
            <div class="p-6 border-b border-slate-50 flex flex-col sm:flex-row justify-between items-center gap-4">
                <span class="p-input-icon-left w-full sm:w-auto">
                    <i class="pi pi-search ml-3 text-slate-400"></i>
                    <input pInputText type="text" placeholder="Search catalog..."
                        class="w-full sm:w-80 pl-10 py-3 rounded-2xl bg-slate-50 border-none focus:ring-2 focus:ring-blue-500/20 transition-all" />
                </span>
                <div class="flex items-center gap-2 text-sm font-bold text-slate-500 bg-slate-50 px-4 py-2 rounded-xl">
                    <i class="pi pi-info-circle"></i>
                    <span>Total: {{ posService.products().length }} Items</span>
                </div>
            </div>

            <p-table [value]="posService.products()" [tableStyle]="{ 'min-width': '60rem' }"
                styleClass="p-datatable-sm">
                <ng-template pTemplate="header">
                    <tr>
                        <th
                            class="bg-white px-6 py-5 text-slate-400 font-bold uppercase tracking-wider text-[11px] border-b border-slate-50">
                            Product Details</th>
                        <th
                            class="bg-white px-6 py-5 text-slate-400 font-bold uppercase tracking-wider text-[11px] border-b border-slate-50">
                            Category</th>
                        <th
                            class="bg-white px-6 py-5 text-slate-400 font-bold uppercase tracking-wider text-[11px] border-b border-slate-50 text-right">
                            Price</th>
                        <th
                            class="bg-white px-6 py-5 text-slate-400 font-bold uppercase tracking-wider text-[11px] border-b border-slate-50 text-center">
                            Stock Level</th>
                        <th
                            class="bg-white px-6 py-5 text-slate-400 font-bold uppercase tracking-wider text-[11px] border-b border-slate-50">
                            Status</th>
                        <th
                            class="bg-white px-6 py-5 text-slate-400 font-bold uppercase tracking-wider text-[11px] border-b border-slate-50 text-center">
                            Manage</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-product>
                    <tr class="hover:bg-slate-50/50 transition-colors">
                        <td class="px-6 py-4">
                            <div class="flex items-center gap-4">
                                <div
                                    class="w-14 h-14 rounded-2xl bg-slate-100 flex-shrink-0 flex items-center justify-center text-slate-400 overflow-hidden shadow-inner border border-white">
                                    @if (product.image) {
                                    <img [src]="product.image" class="w-full h-full object-cover">
                                    } @else {
                                    <i class="pi pi-image text-xl"></i>
                                    }
                                </div>
                                <div>
                                    <span class="block font-bold text-slate-900 leading-tight">{{ product.name }}</span>
                                    <span class="text-xs text-slate-400 font-medium font-mono">ID: #{{ product.id
                                        }}</span>
                                </div>
                            </div>
                        </td>
                        <td class="px-6 py-4 text-center">
                            <span
                                class="inline-block px-3 py-1 rounded-full bg-slate-100 text-slate-600 text-xs font-bold uppercase tracking-tight">
                                {{ product.category }}
                            </span>
                        </td>
                        <td class="px-6 py-4 text-right">
                            <span class="text-lg font-black text-slate-900">{{ product.price | currency }}</span>
                        </td>
                        <td class="px-6 py-4">
                            <div class="flex flex-col items-center gap-1.5">
                                <div class="w-24 h-2 bg-slate-100 rounded-full overflow-hidden">
                                    <div class="h-full rounded-full transition-all duration-1000"
                                        [style.width.%]="(product.stock / 50) * 100"
                                        [class]="product.stock < 15 ? 'bg-red-500' : 'bg-green-500'"></div>
                                </div>
                                <span class="text-xs font-black" [class.text-red-500]="product.stock < 15">
                                    {{ product.stock }} / 50
                                </span>
                            </div>
                        </td>
                        <td class="px-6 py-4">
                            @if (product.stock > 15) {
                            <div class="flex items-center gap-1.5 text-green-600">
                                <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                                <span class="text-xs font-bold uppercase tracking-tighter">Healthy</span>
                            </div>
                            } @else if (product.stock > 0) {
                            <div class="flex items-center gap-1.5 text-orange-500">
                                <div class="w-2 h-2 rounded-full bg-orange-500"></div>
                                <span class="text-xs font-bold uppercase tracking-tighter">Low Stock</span>
                            </div>
                            } @else {
                            <div class="flex items-center gap-1.5 text-red-600">
                                <div class="w-2 h-2 rounded-full bg-red-500"></div>
                                <span class="text-xs font-bold uppercase tracking-tighter">Out</span>
                            </div>
                            }
                        </td>
                        <td class="px-6 py-4 text-center">
                            <div class="flex items-center justify-center gap-1">
                                <p-button icon="pi pi-pencil" [text]="true" severity="secondary"
                                    styleClass="w-9 h-9 rounded-xl hover:bg-slate-100" />
                                <p-button icon="pi pi-eye" [text]="true" severity="secondary"
                                    styleClass="w-9 h-9 rounded-xl hover:bg-slate-100" />
                                <p-button icon="pi pi-trash" [text]="true" severity="danger"
                                    styleClass="w-9 h-9 rounded-xl hover:bg-red-50" />
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>